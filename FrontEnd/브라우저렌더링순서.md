# ✨브라우저 렌더링의 순서를 설명해주세요

1. 먼저 서버로부터 HTML 문서를 전달받으면, 브라우저 엔진은 위에서 아래로 순차적으로 파싱하며 태그와 속성을 발견합니다.

이 태그와 속성들은 트리 형태로 변환되어 메모리에 저장되는데, 이를 DOM 트리라고 합니다.

2. HTML 파싱 중 CSS 링크 또는 스타일 태그를 만나면, 이를 파싱하여 CSSOM 트리로 변환합니다.

3. 문서의 파싱이 완료되면, DOM과 CSSOM 트리를 결합하여 렌더 트리를 생성합니다.

4. 렌더 트리는 브라우저 상에서 요소의 위치와 크기를 결정하는 `리플로우` 과정을 거치며, 마지막으로 요소의 색상, 경계선 등 시각적 요소를 그리는 `페인팅` 과정이 진행됩니다.

## 🔁꼬리질문

### 🤔 HTML 파싱 중간에 script 태그를 만나면 어떻게 되나요?

파싱 중간에 `script` 태그를 만나면, 브라우저는 해당 스크립트를 로드하고 실행하기 위해 파싱을 일시 중단합니다.

외부 스크립트의 경우, 스크립트를 로드하고 실행한 후 파싱을 재개하며, 내부 스크립트의 경우, 실행이 완료될 때까지 파싱이 중단됩니다.

이로 인해 파싱 속도가 저하되고, DOM 트리가 완성되기 전에 스크립트가 DOM을 조작할 가능성이 있어, 예기치 못한 상황이 발생할 수 있습니다.

이러한 문제를 방지하기 위해 `async`나 `defer` 속성을 사용하여 파싱에 미치는 영향을 최소화할 수 있습니다.

### 🤔 async와 defer 속성에 대해 설명해주세요

`async`와 `defer`는 스크립트를 비동기적으로 로드하는 속성입니다.

이들은 HTML 파싱이 중단되는 현상과 DOM 트리가 완성되기 전에 스크립트가 실행되는 것을 방지하기 위해 사용됩니다.

`async` 속성은 스크립트가 로드되는 즉시 실행하는 반면,

`defer` 속성은 스크립트를 비동기적으로 로드하되, HTML 파싱이 완료된 후 스크립트를 실행합니다.

따라서 `async`는 스크립트 로드 순서 상관없이 실행되는 경우에 적합하고, `defer`는 스크립트의 실행 순서가 중요할 때 적합합니다.

### 🤔 CSS파일을 만나도 중단되나요?

1. 렌더링 엔진이 HTML을 파싱하다가 link 태그 또는 sytle태그를 만나면 DOM 생성을 일시 중단

2. 어트리뷰트에 지정된 css파일을 서버에 요청

3. HTML파싱과 동일한 파싱과정을 거쳐 CSSOM 생성
   - (2진수 -> 문자 -> 토큰 -> 노드 -> CSSOM )
4. HTML 파싱이 중단된 지점부터 다시 HTML 파싱

### 🤔 렌더링 성능을 저하시킬 수 있는 요소는 무엇이 있습니까?

1. 복잡한 DOM 구조:

   - 너무 많은 DOM 요소가 포함되면 브라우저가 렌더링하는 데 더 많은 리소스를 소모하게 됩니다.

2. CSS 복잡성:

   - 복잡한 CSS 규칙, 많은 스타일 시트, 자주 변경되는 스타일은 CSSOM을 재계산하게 하여 성능을 저하시킬 수 있습니다.

3. JavaScript 실행:

   - JavaScript가 DOM을 수정하거나 레이아웃을 변경할 경우, 브라우저는 레이아웃 계산과 페인트 작업을 다시 수행해야 하므로 성능에 영향을 미칩니다.

4. 비동기 로딩:

   - 외부 리소스의 비동기 로딩이 완료되기 전에 렌더링이 진행되면, 레이아웃이 여러 번 발생할 수 있습니다.

## 🤔레이아웃 시프트(Layout Shift)와 페인트(Paint) 과정에서 발생하는 문제를 해결하기 위해 사용할 수 있는 최적화 방법에 대해서 설명해주세요.

### 레이아웃 시프트 문제 해결 기법

1. 고정된 크기 정의:

   - 이미지, 비디오 및 기타 미디어 요소에 대해 명시적인 너비와 높이를 설정하여 브라우저가 레이아웃을 미리 계산할 수 있도록 합니다.

2. CSS 그리드와 플렉스박스 사용:

   - CSS 그리드 및 플렉스박스를 사용하여 레이아웃을 구성하면 요소의 위치를 더 잘 관리할 수 있습니다. 이를 통해 예기치 않은 레이아웃 변화가 줄어듭니다.

3. 로딩 스켈레톤:

   - 콘텐츠가 로드될 때 일시적으로 스켈레톤 UI를 사용하여 레이아웃의 변화를 최소화합니다. 이는 사용자에게 더 나은 경험을 제공합니다.

### 페인트 문제 해결 기법

1. 합성 최적화:

   - CSS 속성 중 transform, opacity와 같은 GPU 가속 속성을 사용하여 레이어를 분리하면 페인트 성능을 개선할 수 있습니다. 이 속성들은 레이아웃을 변경하지 않고도 애니메이션을 수행할 수 있습니다.

2. CSS 애니메이션과 트랜지션 사용:

   - JavaScript로 애니메이션을 구현하기보다는 CSS 애니메이션과 트랜지션을 사용하여 브라우저의 최적화를 활용합니다.

3. 불필요한 페인트 회피:

   - DOM 요소의 변경을 최소화하고, 자주 업데이트되는 요소에 대해서는 requestAnimationFrame을 사용하여 성능을 최적화합니다.
