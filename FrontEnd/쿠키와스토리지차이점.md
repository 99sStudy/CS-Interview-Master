# ✨쿠키와 로컬 스토리지(Local Storage), 세션 스토리지(Session Storage)의 차이점을 설명하고, 각각을 사용하는 적절한 시점에 대해 설명해주세요.

# ✨그리고 보안 측면에서 쿠키와 로컬 스토리지를 사용할 때 주의해야 할 점과 이를 안전하게 사용하는 방법에 대해 설명해주세요.

### 쿠키, 로컬 스토리지, 세션 스토리지의 차이점

| 특성        | 쿠키                             | 로컬 스토리지                    | 세션 스토리지                      |
| ----------- | -------------------------------- | -------------------------------- | ---------------------------------- |
| 저장 용량   | 약 4KB                           | 약 5-10MB                        | 약 5-10MB                          |
| 데이터 만료 | 만료 날짜 설정 가능              | 없음 (브라우저 종료 시에도 유지) | 브라우저 탭 종료 시 삭제           |
| 접근 방식   | 서버와 클라이언트 모두 접근 가능 | 클라이언트만 접근 가능           | 클라이언트만 접근 가능             |
| 전송 방식   | HTTP 요청 시 자동 전송           | 자동 전송되지 않음               | 자동 전송되지 않음                 |
| 사용 사례   | 세션 관리, 인증 정보 저장        | 사용자 설정, 캐시 데이터 저장    | 단기 데이터 저장 (예: 양식 데이터) |

### 각각의 적절한 사용 시점

1. **쿠키**:

   - `사용자 인증 정보(예: JWT 토큰)`를 저장할 때
   - `세션 관리`와 `사용자 트래킹`을 할 때 (사용자 트래킹(User Tracking)은 웹사이트나 애플리케이션에서 사용자의 행동을 모니터링하고 기록하는 프로세스를 의미합니다.)
   - 서버에서 특정 데이터를 요청할 때(예: 세션 ID)

2. **로컬 스토리지**:

   - `사용자 설정`이나 `환경 설정`을 저장할 때
   - `캐시 데이터`나 비밀번호와 같은 `비밀이 아닌 정보를 저장`할 때
   - 애플리케이션의 `상태를 유지`할 때

3. **세션 스토리지**:
   - `단기적인 데이터(예: 양식 입력값)를 저장`할 때
   - 사용자의 세션 동안만 유지해야 할 데이터(예: 페이지 간 데이터 전달) 저장 시

### 보안 측면에서 주의해야 할 점

1. **쿠키**:

   - **XSS (교차 사이트 스크립팅)**: 쿠키는 클라이언트 측에서 접근 가능하므로, XSS 공격에 취약할 수 있습니다. 이를 방지하기 위해 `HttpOnly` 속성을 설정하여 JavaScript에서 접근할 수 없도록 해야 합니다.
   - **CSRF (교차 사이트 요청 위조)**: 쿠키는 자동으로 전송되므로, CSRF 공격에 취약합니다. 이를 방지하기 위해 CSRF 토큰을 사용하는 것이 좋습니다.
   - **Secure 속성**: HTTPS에서만 쿠키가 전송되도록 `Secure` 속성을 설정하여 보안을 강화해야 합니다.

2. **로컬 스토리지**:

   - **XSS 공격**: 로컬 스토리지도 XSS 공격에 취약합니다. 공격자가 악성 스크립트를 주입하면 데이터를 탈취할 수 있습니다. 따라서 사용자 입력을 검증하고, 안전한 코드를 작성해야 합니다.
   - **비밀 데이터 저장 금지**: 비밀번호와 같은 민감한 정보를 로컬 스토리지에 저장하지 않도록 합니다.

3. **세션 스토리지**:
   - **XSS 공격**: 세션 스토리지도 XSS 공격에 취약하므로, 동일한 보안 조치를 취해야 합니다.
   - **브라우저 탭 간 데이터 격리**: 세션 스토리지는 탭간에 데이터를 공유하지 않지만, 공격자가 악성 탭을 열 수 있으므로 주의해야 합니다.

### 안전한 사용 방법

- **입력 검증 및 인코딩**: `사용자 입력을 항상 검증`하고 인코딩하여 XSS 공격을 방지합니다.
- **HTTPS 사용**: 모든 통신을 `HTTPS로 암호화`하여 데이터 전송 중 탈취를 방지합니다.
- **민감한 정보는 서버에 저장**: 비밀번호 및 `민감한 정보는 서버에 저장`하고, 클라이언트에는 최소한의 정보만 저장합니다.
- **토큰 관리**: `인증 토큰은 서버에서 관리`하고, 필요 시에만 클라이언트에 저장합니다.
