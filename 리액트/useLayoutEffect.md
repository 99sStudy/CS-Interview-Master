## âœ¨useLayoutEffectì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”.

useEffectì™€ ë™ì¼í•˜ì§€ë§Œ, `ì½œë°± í•¨ìˆ˜ ì‹¤í–‰ì´ ëª¨ë“  DOMì˜ ë³€ê²½ í›„ì— ë™ê¸°ì ìœ¼ë¡œ ë°œìƒ`í•©ë‹ˆë‹¤.

ì•„ë˜ì™€ ê°™ì€ ìˆœì„œë¡œ ì§„í–‰ë©ë‹ˆë‹¤.

ë¦¬ì•¡íŠ¸ê°€ DOMì„ ì—…ë°ì´íŠ¸ -> useLayoutEffectë¥¼ ì‹¤í–‰ -> ë¸Œë¼ìš°ì €ì— ë³€ê²½ ì‚¬í•­ì„ ë°˜ì˜ ->useEffectë¥¼ ì‹¤í–‰

## ğŸ”ê¼¬ë¦¬ì§ˆë¬¸

### ğŸ¤”ê·¸ëŸ¼ useEffectë‚˜ useLayoutEffect ë‘˜ ì¤‘ì— ì•„ë¬´ê±°ë‚˜ ì‚¬ìš©í•´ë„ ê´œì°®ì§€ ì•Šì„ê¹Œìš”? ì–´ë–»ê²Œ ìƒê°í•˜ì‹œë‚˜ìš”?

useLayoutEffectëŠ” `DOM ë³€ê²½ í›„ ë™ê¸°ì ìœ¼ë¡œ ë°œìƒ`í•©ë‹ˆë‹¤.

ë™ê¸°ì ìœ¼ë¡œ ë°œìƒí•œë‹¤ëŠ” ê²ƒì€ ë¦¬ì•¡íŠ¸ê°€ useLayoutEffectì˜ ì‹¤í–‰ì´ ì¢…ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦° ë‹¤ìŒì— í™”ë©´ì„ ê·¸ë¦°ë‹¤ë¥¸ ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

ì´ ë•Œë¬¸ì— `ì»´í¬ë„ŒíŠ¸ê°€ ì ì‹œ ë™ì•ˆ ì¼ì‹œ ì¤‘ì§€ë˜ëŠ” ê²ƒê³¼ ê°™ì€ ì¼ì´ ë°œìƒ`í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„±ëŠ¥ì— ë¬¸ì œë¥¼ ì¼ìœ¼í‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ğŸ¤”ê·¸ëŸ¼ useLayoutEffectëŠ” ë³´í†µ ì–´ë–¨ ë•Œ ì‚¬ìš©í• ê¹Œìš”?

DOMì€ ê³„ì‚°ëì§€ë§Œ ì´ê²ƒì´ í™”ë©´ì— ë°˜ì˜ë˜ê¸°ì „ì— í•˜ê³  ì‹¶ì€ ì‘ì—…ì´ ìˆì„ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

`DOM ìš”ì†Œë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” ì• ë‹ˆë©”ì´ì…˜`, `ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¥¼ ì œì–´`í•˜ëŠ” ë“± `í™”ë©´ì— ë°˜ì˜ë˜ê¸°ì „ í•˜ê³  ì‹¶ì€ ì‘ì—…`ì´ ìˆì„ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

### ğŸ› ï¸ì‚¬ìš©ë²•

```
function Tooltip() {
  const ref = useRef(null);
  const [tooltipHeight, setTooltipHeight] = useState(0); // You don't know real height yet
                                                         // ì•„ì§ ì‹¤ì œ height ê°’ì„ ëª¨ë¦…ë‹ˆë‹¤.

  useLayoutEffect(() => {
    const { height } = ref.current.getBoundingClientRect();
    setTooltipHeight(height); // Re-render now that you know the real height
                              // ì‹¤ì œ ë†’ì´ë¥¼ ì•Œì•˜ìœ¼ë‹ˆ ì´ì œ ë¦¬ë Œë”ë§ í•©ë‹ˆë‹¤.
  }, []);

  // ...use tooltipHeight in the rendering logic below...
  // ...ì•„ë˜ì— ì‘ì„±ë  ë Œë”ë§ ë¡œì§ì— tooltipHeightë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤...
}
```

[ì½”ë“œ ì¶œì²˜](https://react-ko.dev/reference/react/useLayoutEffect)
