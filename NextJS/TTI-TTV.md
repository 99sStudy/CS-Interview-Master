# TTV, TTI, hydrationμ κ΄€κ³„λ¥Ό μ„¤λ…ν•΄μ£Όμ„Έμ”.

- TTV : Time To View, μ μ €κ°€ μµμ΄λ΅ νμ΄μ§€λ¥Ό λ³΄κ² λλ” λ°μ—κΉμ§€ κ±Έλ¦¬λ” μ‹κ°„
- TTI : Time To Interaction, μ μ €κ°€ μµμ΄λ΅ νμ΄μ§€μ™€ μƒνΈμ‘μ© ν•  λ• κΉμ§€ κ±Έλ¦¬λ” μ‹κ°„

### pre-renderingκ³Ό hydrationμ κ΄€κ³„

- pre-rendering : μ‚¬μ©μμ™€ μƒνΈμ‘μ©ν•λ” λ¶€λ¶„μ„ μ μ™Έν• κ»λ°κΈ°λ§μ„ λ¨Όμ € λΈλΌμ°μ €μ—κ² μ κ³µν•©λ‹λ‹¤. TTVκ°€ μ—„μ²­λ‚κ² λΉ λ¥΄κ² λ„¤μ”.
- hydration :
  - μ΄ κ³Όμ •μ΄ μΌμ–΄λ‚κΈ° μ „κΉμ§€λ” κ»λ°κΈ°λ§ μλ” html νμΌμ΄κΈ° λ•λ¬Έμ— μ‚¬μ©μκ°€ μ•„λ¬΄λ¦¬ λ²„νΌμ„ click ν•΄λ„ μ•„λ¬΄ λ™μ‘μ΄ μΌμ–΄λ‚μ§€ μ•μ•„μ”.
  - μΈν„°λ ‰μ…μ— ν•„μ”ν• λ¨λ“  νμΌμ„ λ‹¤μ΄λ΅λ“ λ°›λ” κ³Όμ • μ¦‰, hydration κ³Όμ •μ΄ λλ‚μ•Ό κ·Έμ μ„μ•Ό μΈν„°λ ‰μ…μ΄ κ°€λ¥ν•©λ‹λ‹¤. μ΄ κ°„κ·Ή! TTIλ¥Ό μ¤„μ΄λ” κ²ƒμ΄ κ΄€κ±΄μ΄λΌ ν•  μ μκ² μµλ‹λ‹¤.

Next.jsμ—μ„ ν”„λ¦¬λ λ”λ§μ€ λ‘ κ°€μ§€ λ°©μ‹μΌλ΅ λ‚λ‰©λ‹λ‹¤.

- Static Generation (μ •μ  μƒμ„±): λΉλ“ μ‹μ μ— HTMLμ„ λ―Έλ¦¬ μƒμ„±ν•΄ λ‘λ” λ°©μ‹μ…λ‹λ‹¤.
- Server-side Rendering (μ„λ²„ μ‚¬μ΄λ“ λ λ”λ§): μ‚¬μ©μμ μ”μ²­μ΄ μμ„ λ•λ§λ‹¤ μ„λ²„μ—μ„ HTMLμ„ μƒμ„±ν•΄ μ‘λ‹µν•©λ‹λ‹¤.

### Next.js 13μ Pre-rendering λ°©μ‹ μ”μ•½

| ν”„λ¦¬λ λ”λ§ λ°©μ‹       | μ„¤λ…                                                       | κµ¬ν„ λ°©λ²•                 |
| --------------------- | ---------------------------------------------------------- | ------------------------- |
| Static Generation     | λΉλ“ μ‹ μ •μ  HTML μƒμ„±, λ¨λ“  μ‚¬μ©μμ—κ² λ™μΌν• μ½ν…μΈ  μ κ³µ | `getStaticProps` μ‚¬μ©     |
| Server-side Rendering | μ”μ²­ μ‹λ§λ‹¤ HTMLμ„ μ„λ²„μ—μ„ μƒμ„±ν•μ—¬ μµμ‹  λ°μ΄ν„° λ°μ      | `getServerSideProps` μ‚¬μ© |

### Next.js 14μ Pre-rendering λ°©μ‹ μ”μ•½

| λ λ”λ§ λ°©μ‹                         | κµ¬ν„ λ°©λ²•                      | μμ‹ μµμ… μ„¤μ •                                                      |
| ----------------------------------- | ------------------------------ | ------------------------------------------------------------------- |
| **Static Generation**               | λΉλ“ μ‹μ μ— μ •μ  HTML μƒμ„±     | `fetch`μ `cache: 'force-cache'` μ„¤μ •                               |
| **Server-side Rendering**           | μ”μ²­ μ‹λ§λ‹¤ μ„λ²„μ—μ„ HTML μƒμ„± | `fetch`μ `cache: 'no-store'` λλ” `dynamic = 'force-dynamic'` μ„¤μ • |
| **Incremental Static Regeneration** | μΌμ • μ‹κ°„λ§λ‹¤ μ •μ  νμ΄μ§€ κ°±μ‹  | `fetch`μ `next: { revalidate: <μ΄ λ‹¨μ„> }` μ„¤μ •                    |

---

## CSRκ³Ό SSRμ λ¬Έμ 

### π CSRμ κ²½μ°

- μ‚¬μ©μκ°€ μ‚¬μ΄νΈ μ ‘μ† μ‹, μ„λ²„λ” λΉ„μ–΄μλ” HTML λ¬Έμ„λ¥Ό λ„κ²¨μ¤€λ‹¤.
- ν΄λΌμ΄μ–ΈνΈλ” HTMLμ— λ§ν¬λ JS νμΌμ„ μ„λ²„μ— μ”μ²­ν•κ³ , μ„λ²„λ” ν•΄λ‹Ή JS νμΌμ„ ν΄λΌμ΄μ–ΈνΈμ—κ² μ „μ†΅ν•λ‹¤.
- ν΄λΌμ΄μ–ΈνΈκ°€ JS νμΌμ„ λ°›μ€ ν›„μ—μ•Ό λΈλΌμ°μ € ν™”λ©΄μ— μ›Ή νμ΄μ§€κ°€ λ¨λ―€λ΅, μ‚¬μ©μκ°€ μ›Ή νμ΄μ§€μ™€ λ°”λ΅ μƒνΈμ‘μ©ν•  μ μλ‹¤.
- CSRμ—μ„λ” `TTV === TTI`

### π¨ SSRμ κ²½μ°

- μ‚¬μ©μκ°€ μ‚¬μ΄νΈ μ ‘μ† μ‹, μ„λ²„λ” μ΄λ―Έ λ§λ“¤μ–΄μ§„ HTML λ¬Έμ„λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² λ„κ²¨μ¤€λ‹¤.

- μ΄ λ•λ¬Έμ— μ‚¬μ©μλ” ν™”λ©΄μ„ λ°”λ΅ λ³Ό μ μλ‹¤.

- ν•μ§€λ§ μ•„μ§ JS νμΌμ€ λ°›μ§€ λ»ν• μƒνƒμ΄λ―€λ΅, λ°”λ΅ μƒνΈμ‘μ©μ΄ λ¶κ°€λ¥ν•λ‹¤.

- SSRμ—μ„λ” `TTV !== TTI` (μ‹κ°„μ°¨κ°€ μ΅΄μ¬ν•λ‹¤.)

### λ¬Έμ μ 

- CSRμ κ²½μ° μ²μ λ΅λ”© μ†λ„λ¥Ό μ¤„μ΄κΈ° μ„ν•΄ JS νμΌμ„ λ¶„ν• ν•μ—¬ ν•„μ”ν• μ •λ³΄λ§ λ³΄λ‚Ό μ μλ” λ°©λ²•μ΄ ν•„μ”ν•λ‹¤.
- SSRμ κ²½μ° TTVμ™€ TTIμ μ‹κ°„μ°¨λ¥Ό μ¤„μ΄κΈ° μ„ν• λ°©λ²•μ΄ ν•„μ”ν•λ‹¤.

## μ΄λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ λ“±μ¥ν• SSG!

- λ―Έλ¦¬ μ„λ²„μ— HTML νμΌμ„ λ§λ“¤μ–΄λ‘κ³ , μ΄λ¥Ό μ‚¬μ©μμ—κ² λ³΄μ—¬μ¤€λ‹¤.
- μ‚¬μ©μμ™€μ μƒνΈμ‘μ© μ‹ λ°μ΄ν„°κ°€ λ³€ν•μ§€ μ•μ„ νμ΄μ§€λ” λ―Έλ¦¬ μ„λ²„μ—μ„ HTML νμΌμ„ λ§λ“¤μ–΄λ‘κ³ , ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ΄ μμ„ λ•λ§λ‹¤ μ΄ `νμΌμ„ μ¬μ‚¬μ©ν•λ” λ°©μ‹`
  - next build λ…λ Ήμ–΄ μ…λ ¥ μ‹ HTML νμΌμ΄ μƒμ„±λκ³ , CDNμ„ ν†µν•΄ μΊμ‹±λλ‹¤.
- `SSRμ²λΌ pre-rendering λ νμ΄μ§€λ¥Ό λ³΄μ—¬μ£Όμ§€λ§ λ³€κ²½μ‚¬ν•­μ„ μ—…λ°μ΄νΈν•  μ μ—†λ‹¤.`
- CSR, SSRλ³΄λ‹¤ `λ λ”λ§ μ†λ„κ°€ ν›¨μ”¬ λΉ λ¥΄λ‹¤.`

## μ½”λ“μ¤ν”λ¦¬ν…μ΄λ€ λ¬΄μ—‡μΈκ°€μ”?

- SPA ν”„λ΅μ νΈμ—μ„λ” ν”„λ΅μ νΈ λΉλ“ μ‹, `ν•λ‚μ JS νμΌλ΅ λ²λ“¤λ§`μ„ ν•©λ‹λ‹¤. μ΄λ° κ²½μ° λ²λ“¤λ§ μ‚¬μ΄μ¦κ°€ λ„λ¬΄ μ»¤μ§€κ² λλ©΄μ„ μ΄κΈ° λ΅λ”© μ†λ„κ°€ μƒλ‹Ήν λλ¦¬κ² λ©λ‹λ‹¤`(TTVκ°€ λ„λ¬΄ μ¤λκ±Έλ¦Ό)`
- μ½”λ“μ¤ν”λ¦¬ν…μ„ ν†µν•΄ `ν° λ²λ“¤μ js νμΌμ„ μ‘μ€ λ‹¨μ„λ΅ μλΌ ν•„μ”ν• κ³³μ—λ§ λ΅λ“`ν•μ—¬ `λΉ λ¥Έ TTV`λ¥Ό μ–»κ² ν•  μ μμµλ‹λ‹¤.
- νΉν Next.jsμ—μ„λ” μ‚¬μ©μκ°€ λ°©λ¬Έν•λ” νμ΄μ§€μ— ν•„μ”ν• μλ°”μ¤ν¬λ¦½νΈ μ½”λ“λ§μ„ λ΅λ“ν•©λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ ν•„μ”ν• λ¶€λ¶„λ§ μ°μ„  λ΅λ”©ν•μ—¬ Time To View(TTV)λ¥Ό ν–¥μƒμ‹ν‚¤κ³  μ „μ²΄μ μΈ μ• ν”λ¦¬μΌ€μ΄μ… μ„±λ¥μ„ κ°μ„ ν•©λ‹λ‹¤.
